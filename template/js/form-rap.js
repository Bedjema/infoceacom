$(document).ready(function(){$.validator.addMethod("regex",function(e,r,t){return t&&t.constructor!=RegExp?t=RegExp(t):t.global&&(t.lastIndex=0),this.optional(r)||t.test(e)}),$(".rap_grat").magnificPopup({type:"inline",items:{src:"#rapp-grat"},closeOnBgClick:!1,preloader:!0,modal:!0,callbacks:{open:function(){},close:function(){}}}),$("#form_submit_rapp").validate({errorLabelContainer:"#error-note-rapp",wrapper:"li",rules:{Telephone:{required:!0,regex:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,maxlength:20}},messages:{Telephone:{required:"- Veuillez saisir votre num\xe9ro de t\xe9l\xe9phone car il est obligatoire.",maxlength:"- le champ de la num\xe9ro de t\xe9l\xe9phone ne devrait pas d\xe9passer {0} caract\xe8res.",regex:"- Veuillez saisir un num\xe9ro de t\xe9l\xe9phone valide."}},submitHandler:function(e,r){r.preventDefault(),$("#Telephone").val(),$("#form_submit_rapp_btn").text("En traitement..."),$("#form_submit_rapp_btn").attr("disabled",!0),$.ajax({type:"POST",url:$("#form_submit_rapp").attr("action"),data:$("#form_submit_rapp").serialize(),success:function(e){$("#rapp-grat").children("#form_dem_content").hide(),$(".title-rapp").text("Demande de rappel bien enregistr\xe9e."),$("#rapp-grat").length&&$("#rapp-grat").append('<div class="text-dark text-center p-4" id="form_hr_rapp"><B>Nous vous rappelons dans quelques instants..</B></div>'),$("#Telephone").val(""),$("#form_submit_rapp_btn").attr("disabled",!1),$("#form_submit_rapp_btn").text("Envoyer")},error:function(e){$("#rapp-grat").children("#form_dem_content").hide(),$(".title-rapp").text("Une erreur est survenue. veuillez r\xe9essayer plus tard."),$("#Telephone").val(""),$("#form_submit_rapp_btn").attr("disabled",!1),$("#form_submit_rapp_btn").text("Envoyer")}})}}),$(document).on("click",".popup-rapp-grat-dismiss",function(e){$.magnificPopup.close(),$(".title-rapp").text("Veuillez saisir votre num\xe9ro de t\xe9l\xe9phone"),$("#rapp-grat").children("#form_dem_content").show(),$("#form_hr_rapp").length&&$("#rapp-grat").children("#form_hr_rapp").remove(),$("#Telephone").val("")})});